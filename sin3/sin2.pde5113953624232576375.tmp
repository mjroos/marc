Sin s1, s2, s3,s4;


float time = 0;
FloatList wave;
float x;
float y;
float prevx;
float prevy;
float radius;
float n;

void setup() {
  size(600, 600);
  wave = new FloatList();
  s1=new Sin();
  s2=new Sin();
  s3=new Sin();
  s4=new Sin();
}

void draw() {
  background(255);
  //frameRate(20);
  //translate(170, 150);
  //init(4);
  //display();
  //s1.init(10,120,75);
  //s1.display();
  
  s2.init(10,120,225);
  s2.display();
  
  //s3.init(10,120,375);
  //s3.display();
  
  //s4.init(10,120,525);
  //s4.display();
}

void init(int t) {

  x = 0;
  y =0;
  for (int k = 0; k<t; k++) {

    n = k * 2 + 1;
    radius = 5*(4 / n * PI);


    prevx = x;
    prevy = y;


    x+=  radius * cos(n*time);
    y+= radius * sin(n*time);


    strokeWeight(1);
    stroke(0, 100);
    noFill();
    ellipse(prevx, prevy, radius*2, radius*2);
    fill(0);
    //ellipse(x, y, 2, 2);
    strokeWeight(1.8);
    stroke(0);
    line(prevx, prevy, x, y);
  }
  strokeWeight(1);
  stroke(0);
  line(x, y, 100, y);
  wave.append(y);
}

void display() {
  strokeWeight(1);
  translate(400, 0);

  for (int i = wave.size()-1; i >1; i--) {

    beginShape();
    vertex((-i+1), wave.get(i-1));
    vertex(-i, wave.get(i));
    endShape();

    if (wave.size()>300) {
      wave.remove(1);
    }
  }
  time+=0.05;
}
